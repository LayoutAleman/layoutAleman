import { c as create_ssr_component, a as subscribe, b as add_attribute } from "../../../chunks/ssr.js";
import { a as proyectos, g as generales } from "../../../chunks/stores.js";
import "firebase/firestore";
import "firebase/app";
import "firebase/auth";
import "firebase/storage";
import "../../../chunks/client.js";
const css = {
  code: ".project-card-phone.svelte-18z2t0b.svelte-18z2t0b{display:none}.project-card-desk.svelte-18z2t0b.svelte-18z2t0b{display:block}.proyectos-page.svelte-18z2t0b.svelte-18z2t0b{min-height:65vh}.project-card.svelte-18z2t0b.svelte-18z2t0b{box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);position:relative;transition:0.3s all ease}.shadow-top.svelte-18z2t0b.svelte-18z2t0b,.project-card_link.svelte-18z2t0b.svelte-18z2t0b,.project-card_caption.svelte-18z2t0b.svelte-18z2t0b{cursor:pointer}.project-card_img.svelte-18z2t0b.svelte-18z2t0b{width:100%;object-fit:cover;height:300px}.project-card_caption.svelte-18z2t0b.svelte-18z2t0b{text-decoration:none;color:white;position:absolute;z-index:11;font-size:16px;text-align:center;bottom:10%;width:100%;letter-spacing:4px;font-weight:700;text-transform:uppercase;opacity:80%;transition:opacity 1s ease-in-out;-moz-transition:opacity 1s ease-in-out;-webkit-transition:opacity 1s ease-in-out}.project-card_link.svelte-18z2t0b:hover .project-card_caption.svelte-18z2t0b{opacity:0;transition:opacity 1s ease-in-out;-moz-transition:opacity 1s ease-in-out;-webkit-transition:opacity 1s ease-in-out}.makebigpic.svelte-18z2t0b.svelte-18z2t0b{position:fixed;top:0;left:0;padding:0;width:100%;height:100vh;z-index:12;transition:width 2s, height 2s}.makebigpic.svelte-18z2t0b div.svelte-18z2t0b,.makebigpic.svelte-18z2t0b img.svelte-18z2t0b{height:100vh}.makebigpic.svelte-18z2t0b .project-card_caption.svelte-18z2t0b{height:auto;transition:width 2s, height 2s;font-size:35px}.makebigpic.svelte-18z2t0b .project-card_link:hover .project-card_caption.svelte-18z2t0b{opacity:100}.makebigpic.svelte-18z2t0b .shadow-top.svelte-18z2t0b{transition:width 2s, height 1s}@media only screen and (max-width: 600px){.project-card-phone.svelte-18z2t0b.svelte-18z2t0b{display:block}.project-card-desk.svelte-18z2t0b.svelte-18z2t0b{display:none}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n    import { onMount } from \\"svelte\\";\\n    import {proyectos,generales} from \\"../../lib/stores\\"\\n    import { collection, getDocs } from \\"firebase/firestore\\";\\n    import { db } from \\"$lib/firebase.client\\";\\n    import { goto } from \\"$app/navigation\\";\\n    import { fly} from 'svelte/transition';\\n    let x = []\\n    let makebigpic = []\\n    let pageCharging = true\\n    onMount(async ()=>{\\n    \\n        setTimeout(()=>{\\n            pageCharging = false\\n        },2000)\\n\\n        if($proyectos.length==0) getProjects()\\n        else {\\n            preloadImages($proyectos);\\n           \\n        }\\n\\n        proyectoImgDelay()\\n\\n\\n     \\n    })\\n    function proyectoImgDelay(){\\n        let t = 1\\n        $proyectos?.map((val,i)=>{\\n      \\n            $proyectos[i].delay = t==2?500:t==3?700:200\\n            t++;\\n            if(t==4) t=1\\n        })\\n\\n    }\\n\\n    async function getProjects() {\\n      \\n        x = []\\n        const querySnapshot = await getDocs(collection(db, \\"proyectos\\"))\\n        querySnapshot.forEach((doc) => {x = [...x,{...doc.data(),id:doc.id}];});\\n        x.sort((a, b) => {\\n            const aPos = a.pos !== undefined && a.pos !== null ? a.pos : Infinity;\\n            const bPos = b.pos !== undefined && b.pos !== null ? b.pos : Infinity;\\n            return aPos - bPos;\\n        });\\n        $proyectos = x\\n\\n        preloadImages($proyectos);\\n\\n \\n    }\\n\\n    async function abrirProyecto(i,proy){\\n        makebigpic[i] = true\\n        setTimeout( () => {\\n            goto('/proyectos/'+proy.id+'#portada')\\n        }, 1600);\\n        \\n    }\\n\\n\\n\\n    function preloadImages(urls){\\n        var loadedCounter = 0;\\n        var toBeLoadedNumber = urls.length;\\n     \\n        urls.forEach(function(url){\\n        preloadImage(url.imagen_portada, function(){\\n            loadedCounter++;\\n       \\n        });\\n    });\\n  function preloadImage(url, anImageLoadedCallback){\\n      var img = new Image();\\n      img.onload = anImageLoadedCallback;\\n      img.src = url;\\n  }\\n}\\n\\n<\/script>\\n\\n\\n\\n<div class=\\"proyectos-page\\">\\n    {#if pageCharging==true}\\n    <div class=\\"full-page-charge\\"  transition:fly>\\n        <img class=\\"menu-logo parpadea\\" src=\\"{$generales?.logos?.logo_negro}\\" alt=\\"\\" width=\\"150\\">\\n    </div>\\n    {:else}\\n   \\n    <div class=\\"title my-5\\" data-aos=\\"fade-right\\">\\n        <hr><h2>PROYECTOS</h2>\\n    </div>\\n\\n    <div class=\\"container mb-5\\">\\n        <div class=\\"row\\">\\n            {#each $proyectos as proyecto,i}\\n                <div class=\\"col-sm-4 col-12 mb-sm-5 mb-4 {makebigpic[i]?'makebigpic':''}\\" >\\n                    <a data-sveltekit-preload-data class=\\"project-card_link project-card-phone\\" href=\\"/proyectos/{proyecto.id}\\">\\n                        <div class=\\"project-card\\" data-aos=\\"fade-in\\" >\\n                            <div class=\\"shadow-top\\"></div>\\n                                <img class=\\"project-card_img\\" src=\\"{proyecto.imagen_portada}\\" alt=\\"\\">\\n                           \\n                            <div class=\\"project-card_caption\\">\\n                                <p>{proyecto.nombre}</p>\\n                            </div>\\n                        </div>\\n                    </a>\\n\\n                    <a data-sveltekit-preload-data data-aos=\\"fade-in\\" class=\\"project-card_link project-card-desk\\" data-aos-delay=\\"{proyecto.delay}\\" on:click={()=>abrirProyecto(i,proyecto)}>\\n                        <div class=\\"project-card\\" >\\n                            <div class=\\"shadow-top\\"></div>\\n                                <img class=\\"project-card_img\\" src=\\"{proyecto.imagen_portada}\\" alt=\\"\\">\\n                            <div class=\\"project-card_caption\\">\\n                                <p>{proyecto.nombre}</p>\\n                            </div>\\n                        </div>\\n                    </a>\\n                </div>\\n            {/each}\\n            \\n        </div>\\n    </div>\\n    {/if}\\n</div>\\n\\n\\n<style>\\n    .project-card-phone{display: none;}\\n    .project-card-desk{display: block;}\\n        .proyectos-page{min-height: 65vh;}\\n    .project-card{box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);position: relative;  transition: 0.3s all ease;}\\n    .shadow-top,.project-card_link,.project-card_caption{cursor: pointer;}\\n    .project-card_img{width: 100%; object-fit: cover; height: 300px;}\\n    .project-card_caption{text-decoration: none;color: white; position: absolute; z-index: 11; font-size: 16px; text-align:center;bottom: 10%;width: 100%;letter-spacing: 4px;font-weight: 700;text-transform: uppercase;opacity: 80%;transition: opacity 1s ease-in-out; -moz-transition: opacity 1s ease-in-out; -webkit-transition: opacity 1s ease-in-out;}\\n    .project-card_link:hover .project-card_caption{opacity: 0;transition: opacity 1s ease-in-out; -moz-transition: opacity 1s ease-in-out; -webkit-transition: opacity 1s ease-in-out;}\\n    .makebigpic{position: fixed;\\n    top: 0;\\n    left: 0;\\n    padding: 0;\\n    width: 100%;    height: 100vh; z-index: 12;transition: width 2s, height 2s;}\\n    .makebigpic div,.makebigpic img{ height: 100vh}\\n    .makebigpic .project-card_caption{height: auto;transition: width 2s, height 2s;font-size: 35px;}\\n    .makebigpic .project-card_link:hover .project-card_caption{opacity: 100;}\\n    .makebigpic .shadow-top{transition: width 2s, height 1s;}\\n    @media only screen and (max-width: 600px) {\\n        .project-card-phone{display: block;}\\n        .project-card-desk{display: none;}\\n    }\\n\\n</style>"],"names":[],"mappings":"AAmII,iDAAmB,CAAC,OAAO,CAAE,IAAK,CAClC,gDAAkB,CAAC,OAAO,CAAE,KAAM,CAC9B,6CAAe,CAAC,UAAU,CAAE,IAAK,CACrC,2CAAa,CAAC,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAE,QAAQ,CAAG,UAAU,CAAE,IAAI,CAAC,GAAG,CAAC,IAAK,CAC1I,yCAAW,CAAC,gDAAkB,CAAC,mDAAqB,CAAC,MAAM,CAAE,OAAQ,CACrE,+CAAiB,CAAC,KAAK,CAAE,IAAI,CAAE,UAAU,CAAE,KAAK,CAAE,MAAM,CAAE,KAAM,CAChE,mDAAqB,CAAC,eAAe,CAAE,IAAI,CAAC,KAAK,CAAE,KAAK,CAAE,QAAQ,CAAE,QAAQ,CAAE,OAAO,CAAE,EAAE,CAAE,SAAS,CAAE,IAAI,CAAE,WAAW,MAAM,CAAC,MAAM,CAAE,GAAG,CAAC,KAAK,CAAE,IAAI,CAAC,cAAc,CAAE,GAAG,CAAC,WAAW,CAAE,GAAG,CAAC,cAAc,CAAE,SAAS,CAAC,OAAO,CAAE,GAAG,CAAC,UAAU,CAAE,OAAO,CAAC,EAAE,CAAC,WAAW,CAAE,eAAe,CAAE,OAAO,CAAC,EAAE,CAAC,WAAW,CAAE,kBAAkB,CAAE,OAAO,CAAC,EAAE,CAAC,WAAY,CAC1V,iCAAkB,MAAM,CAAC,oCAAqB,CAAC,OAAO,CAAE,CAAC,CAAC,UAAU,CAAE,OAAO,CAAC,EAAE,CAAC,WAAW,CAAE,eAAe,CAAE,OAAO,CAAC,EAAE,CAAC,WAAW,CAAE,kBAAkB,CAAE,OAAO,CAAC,EAAE,CAAC,WAAY,CAClL,yCAAW,CAAC,QAAQ,CAAE,KAAK,CAC3B,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,OAAO,CAAE,CAAC,CACV,KAAK,CAAE,IAAI,CAAK,MAAM,CAAE,KAAK,CAAE,OAAO,CAAE,EAAE,CAAC,UAAU,CAAE,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAG,CAC3E,0BAAW,CAAC,kBAAG,CAAC,0BAAW,CAAC,kBAAG,CAAE,MAAM,CAAE,KAAK,CAC9C,0BAAW,CAAC,oCAAqB,CAAC,MAAM,CAAE,IAAI,CAAC,UAAU,CAAE,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAE,IAAK,CAC/F,0BAAW,CAAC,kBAAkB,MAAM,CAAC,oCAAqB,CAAC,OAAO,CAAE,GAAI,CACxE,0BAAW,CAAC,0BAAW,CAAC,UAAU,CAAE,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAG,CACxD,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,KAAK,CAAE,CACtC,iDAAmB,CAAC,OAAO,CAAE,KAAM,CACnC,gDAAkB,CAAC,OAAO,CAAE,IAAK,CACrC"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $$unsubscribe_proyectos;
  let $generales, $$unsubscribe_generales;
  $$unsubscribe_proyectos = subscribe(proyectos, (value) => value);
  $$unsubscribe_generales = subscribe(generales, (value) => $generales = value);
  $$result.css.add(css);
  $$unsubscribe_proyectos();
  $$unsubscribe_generales();
  return `<div class="proyectos-page svelte-18z2t0b">${`<div class="full-page-charge"><img class="menu-logo parpadea"${add_attribute("src", $generales?.logos?.logo_negro, 0)} alt="" width="150"></div>`} </div>`;
});
export {
  Page as default
};
